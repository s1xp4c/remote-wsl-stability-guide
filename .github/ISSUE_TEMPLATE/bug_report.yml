name: "ğŸ§© Remote-WSL Bug report"
description: "ğŸ”Œ Disconnects, timeouts, or instability (often swap/OOM/vsock related)"
title: "ğŸ§© [Remote-WSL]: "
labels: ["bug", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        ğŸ‘‹ Thanks for reporting â€” please paste **text output** (avoid screenshots unless absolutely necessary).

        ğŸ§¯ If VS Code is down, you can still run Ubuntu commands via PowerShell:
            wsl -d Ubuntu -e bash -lc "COMMAND_HERE"

        ğŸ“š Helpful context:
        - docs/USAGE.md
        - docs/ERRORS.md
        - docs/REFERENCES.md

  - type: textarea
    id: symptoms
    attributes:
      label: "ğŸ§¯ Symptoms (exact messages)"
      description: "Paste exact text from VS Code / PowerShell (e.g. 0x8007274c, WebSocket 1006, â€œdistro not foundâ€)."
      placeholder: "Paste error(s) here..."
    validations:
      required: true

  - type: textarea
    id: what_happened
    attributes:
      label: "ğŸ§ª What were you doing right before it failed?"
      description: "Example: started dev server (pnpm dev), opened repo, big install, Docker, etc."
      placeholder: "Steps right before failure..."
    validations:
      required: true

  - type: markdown
    attributes:
      value: |
        ## âœ… Required diagnostics (copy/paste output)

        ğŸªŸ **PowerShell (Windows)** â€” run and paste output:
            powershell -ExecutionPolicy Bypass -File .\scripts\windows-wsl-health-snapshot.ps1

        ğŸ§ **Ubuntu (WSL)** â€” run and paste output:
            free -h
            swapon --show || true
            dmesg -T | egrep -i 'out of memory|oom-kill|killed process' | tail -n 50 || true

  - type: textarea
    id: health_snapshot
    attributes:
      label: "ğŸ“ Health snapshot output (PowerShell)"
      description: "Output of: powershell -ExecutionPolicy Bypass -File .\\scripts\\windows-wsl-health-snapshot.ps1"
      render: powershell
    validations:
      required: true

  - type: textarea
    id: swap
    attributes:
      label: "ğŸ’¾ Swap status (Ubuntu)"
      description: "Paste output of: free -h and swapon --show"
      render: shell
    validations:
      required: true

  - type: textarea
    id: oom
    attributes:
      label: "ğŸ§  OOM lines (Ubuntu)"
      description: "Paste output of: dmesg -T | egrep -i 'out of memory|oom-kill|killed process' | tail -n 50"
      render: shell
    validations:
      required: true

  - type: markdown
    attributes:
      value: |
        ## ğŸ§¾ Optional context (helps, but not required)

  - type: input
    id: windows
    attributes:
      label: "ğŸªŸ Windows version"
      description: "From winver (e.g. Windows 11 24H2 build 26100.x)"
      placeholder: "Windows 11 ... (OS Build ...)"
    validations:
      required: false

  - type: input
    id: ubuntu
    attributes:
      label: "ğŸ§ Ubuntu version"
      description: "From lsb_release -a"
      placeholder: "Ubuntu 24.04.x LTS (noble)"
    validations:
      required: false

  - type: input
    id: vscode
    attributes:
      label: "ğŸ§© VS Code + Remote-WSL versions"
      placeholder: "VS Code 1.xx.x; Remote - WSL x.x.x"
    validations:
      required: false
